<?xml version="1.0" encoding="utf-8" ?>
<templates>

    <t t-name="mis_builder.MisReportWidget" owl="1">
        <div class="oe_mis_builder_content">
            <t t-if="state.mis_report_data">
                <h2 t-if="state.mis_report_data.report_name">
                    <t t-esc="state.mis_report_data.report_name" />
                </h2>
                <div>
                    <div
                        class="oe_mis_builder_analytic_filter_box oe_left o_form_view o_form_editable"
                        style="position: relative; display: inline-block;"
                    />
                    <div class="oe_mis_builder_buttons oe_right oe_button_box">
                        <button
                            t-on-click="refresh"
                            class="oe_mis_builder_refresh btn btn-sm oe_button"
                        >
                            <span class="fa fa-refresh" />
                            Refresh
                        </button>
                        <button
                            t-on-click="printPdf"
                            class="oe_mis_builder_print btn btn-sm oe_button"
                        >
                            <span class="fa fa-print" />
                            Print
                        </button>
                        <button
                            t-on-click="exportXls"
                            class="oe_mis_builder_export btn btn-sm oe_button"
                        >
                            <span class="fa fa-download" />
                            Export
                        </button>
                        <button
                            t-on-click="displaySettings"
                            t-if="props.show_settings"
                            class="oe_mis_builder_settings btn btn-sm oe_button"
                        >
                            <span class="fa fa-cog" />
                            Settings
                        </button>
                    </div>
                </div>
                <table
                    class="oe_list_content o_list_view table table-condensed table-striped mis_builder"
                >
                    <thead>
                        <tr
                            t-foreach="state.mis_report_data.header"
                            t-as="row"
                            t-key="row_index"
                            class="oe_list_header_columns"
                        >
                            <th class="oe_list_header_char">

                            </th>
                            <th
                                t-foreach="row.cols"
                                t-as="col"
                                t-key="col_index"
                                class="oe_list_header_char mis_builder_collabel"
                                t-att-colspan="col.colspan"
                            >
                                <t t-esc="col.label" />
                                <t t-if="col.description">
                                    <br />
                                    <t t-esc="col.description" />
                                </t>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            t-foreach="state.mis_report_data.body"
                            t-as="row"
                            t-key="row_index"
                        >
                            <td t-att="{'style': row.style}">
                                <t t-esc="row.label" />
                                <t t-if="row.description">
                                    <br />
                                    <t t-esc="row.description" />
                                </t>
                            </td>
                            <td
                                t-foreach="row.cells"
                                t-as="cell"
                                t-key="cell_index"
                                t-att="{'style': cell.style, 'title': cell.val_c}"
                                class="mis_builder_amount"
                            >
                                <t t-if="cell.drilldown_arg">
                                    <a
                                        href="javascript:void(0)"
                                        class="mis_builder_drilldown"
                                        t-on-click="drilldown"
                                        t-att-data-drilldown="JSON.stringify(cell.drilldown_arg)"
                                    >
                                        <t t-esc="cell.val_r" />
                                    </a>
                                </t>
                                <t t-if="!cell.drilldown_arg">
                                    <t t-esc="cell.val_r" />
                                </t>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr />
                    </tfoot>
                </table>
            </t>
        </div>
    </t>

</templates>
